{"componentChunkName":"component---src-templates-lesson-jsx","path":"/javascript-algorithms-and-data-structures/learn-fetch-and-promises-by-building-an-fcc-authors-page/641daabed8d0584b1150c953/","result":{"data":{"markdownRemark":{"id":"51f93191-e21b-5107-9c5d-1f82efd68682","frontmatter":{"challengeType":0,"dashedName":"step-27","title":"Step 27","id":"641daabed8d0584b1150c953"},"rawMarkdownBody":"\n# --description--\n\nSome of the author bios are much longer than others. To give the cards a uniform look, you can extract the first 50 characters of each one and replace the rest with an ellipsis (...). Otherwise, you can show the entire bio.\n\nWithin the paragraph element, replace `bio` with a ternary operator. For the condition, check if the length of `bio` is greater than 50. If it is, use the `.slice()` method to extract the first 50 characters of `bio` and add an ellipsis at the end. Otherwise, show the full `bio`.\n\n# --hints--\n\nYou should create a `p` element.\n\n```js\nassert.match(code, /<p\\s*/)\n```\n\nYour `p` element should have the class `bio`\n\n```js\nassert.match(code, /<p\\s*class=(\"|')bio\\1>/);\n```\n\nYou should check if the length of the `bio` text is greater than `50`. \n\n```js\nassert.match(code, /<p\\s*class=(\"|')bio\\1>\\$\\{\\s*bio\\.length\\s*>\\s*50/)\n```\n\nIf the `bio` text is greater than `50` characters, you should extract the first 50 characters with `slice()` and replace the rest with `...`. Don't forget that indexes are zero-based.\n\n```js\nassert.match(code, /<p\\s*class=(\"|')bio\\1>\\$\\{\\s*bio\\.length\\s*>\\s*50\\s*\\?\\s*bio\\.slice\\(\\s*0\\,\\s*49\\s*\\)\\s*\\+\\s*(\"|')\\.\\.\\.\\2\\s*\\:/)\n```\n\nIf the `bio` text is less than 50 characters, use the `bio` text directly.\n\n```js\nassert.match(code, /<p\\s*class=(\"|')bio\\1>\\$\\{\\s*bio\\.length\\s*>\\s*50\\s*\\?\\s*bio\\.slice\\(\\s*0\\,\\s*49\\s*\\)\\s*\\+\\s*(\"|')\\.\\.\\.\\2\\s*\\:\\s*bio\\s*\\}<\\/p>/)\n```\n\n\n# --seed--\n\n## --seed-contents--\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>freeCodeCamp News Author Page</title>\n    <link rel=\"stylesheet\" href=\"./styles.css\" />\n  </head>\n  <body>\n    <h1 class=\"title\">freeCodeCamp News Author Page</h1>\n\n    <main>\n      <div id=\"author-container\"></div>\n      <button class=\"btn\" id=\"load-more-btn\">Load More Authors</button>\n    </main>\n\n    <script src=\"./script.js\"></script>\n  </body>\n</html>\n```\n\n```css\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n:root {\n  --main-bg-color: #1b1b32;\n  --light-grey: #f5f6f7;\n  --dark-purple: #5a01a7;\n  --golden-yellow: #feac32;\n}\n\nbody {\n  background-color: var(--main-bg-color);\n  text-align: center;\n}\n\n.title {\n  color: var(--light-grey);\n  margin: 20px 0;\n}\n\n#author-container {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n.user-card {\n  border-radius: 15px;\n  width: 300px;\n  height: 350px;\n  background-color: var(--light-grey);\n  margin: 20px;\n}\n\n.user-img {\n  width: 150px;\n  height: 150px;\n  object-fit: cover;\n}\n\n.purple-divider {\n  background-color: var(--dark-purple);\n  width: 100%;\n  height: 15px;\n}\n\n.author-name {\n  margin: 10px;\n}\n\n.bio {\n  margin: 20px;\n}\n\n.error-msg {\n  color: var(--light-grey);\n}\n\n.btn {\n  cursor: pointer;\n  width: 200px;\n  margin: 10px;\n  color: var(--main-bg-color);\n  font-size: 14px;\n  background-color: var(--golden-yellow);\n  background-image: linear-gradient(#fecc4c, #ffac33);\n  border-color: var(--golden-yellow);\n  border-width: 3px;\n}\n```\n\n```js\nconst authorContainer = document.getElementById('author-container');\nconst loadMoreBtn = document.getElementById('load-more-btn');\n\nlet startingIndex = 0;\nlet endingIndex = 8;\nlet authorDataArr = [];\n\n\"http://localhost:8080/authors.json\")\n  .then((res) => res.json())\n  .then((data) => {\n    authorDataArr = data;\n    displayAuthors(authorDataArr.slice(startingIndex, endingIndex));  \n  })\n  .catch((err) => {\n    console.error(`There was an error: ${err}`);\n  });\n\nconst fetchMoreAuthors = () => {\n  startingIndex += 8;\n  endingIndex += 8;\n\n  displayAuthors(authorDataArr.slice(startingIndex, endingIndex));\n  if (authorDataArr.length <= endingIndex) {\n    loadMoreBtn.disabled = true;\n    loadMoreBtn.textContent = 'No more data to load';\n  }\n};\n\nconst displayAuthors = (authors) => {\n  authors.forEach(({ author, image, url, bio }, index) => {\n    authorContainer.innerHTML += `\n    <div id=\"${index}\" class=\"user-card\">\n      <h2 class=\"author-name\">${author}</h2>\n      <img class=\"user-img\" src=\"${image}\" alt=\"${author} avatar\" />\n      <div class=\"purple-divider\"></div>\n      --fcc-editable-region--\n      <p class=\"bio\">${bio}</p>\n      --fcc-editable-region--\n      <a class=\"author-link\" href=\"${url}\" target=\"_blank\">${author}'s author page</a>\n    </div>\n  `;\n  });\n};\n\nloadMoreBtn.addEventListener('click', fetchMoreAuthors);\n```\n"}},"pageContext":{"relativeDirectory":"javascript-algorithms-and-data-structures/learn-fetch-and-promises-by-building-an-fcc-authors-page","id":"641daabed8d0584b1150c953","dashedName":"step-27"}},"staticQueryHashes":["4279786174"],"slicesMap":{}}
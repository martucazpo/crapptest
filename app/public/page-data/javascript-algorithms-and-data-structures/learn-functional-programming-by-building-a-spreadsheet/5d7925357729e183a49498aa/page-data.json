{"componentChunkName":"component---src-templates-lesson-jsx","path":"/javascript-algorithms-and-data-structures/learn-functional-programming-by-building-a-spreadsheet/5d7925357729e183a49498aa/","result":{"data":{"markdownRemark":{"id":"cce604c9-d187-560d-8a6c-3496794ee189","frontmatter":{"challengeType":0,"dashedName":"step-53","title":"Step 53","id":"5d7925357729e183a49498aa"},"rawMarkdownBody":"\n# --description--\n\nCreate a new function `evalFormula` which takes a single argument, `x`. Set `/([A-J])([1-9][0-9]?):([A-J])([1-9][0-9]?)/gi` to a variable named `rangeRegex`.\n\n# --hints--\n\nSee description above for instructions.\n\n```js\nassert(\n  code\n    .replace(/\\s/g, '')\n    .includes(\n      'constevalFormula=x=>{constrangeRegex=/([A-J])([1-9][0-9]?):([A-J])([1-9][0-9]?)/gi'\n    )\n);\n```\n\n# --seed--\n\n## --before-user-code--\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <title>Spreadsheet</title>\n  <style>\n    #container {\n      display: grid;\n      grid-template-columns: 50px repeat(10, 200px);\n      grid-template-rows: repeat(11, 30px);\n    }\n    .label {\n      background-color: lightgray;\n      text-align: center;\n      vertical-align: middle;\n      line-height: 30px;\n    }\n  </style>\n</head>\n<body>\n<div id=\"container\">\n  <div></div>\n</div>\n```\n\n## --after-user-code--\n\n```html\n</body>\n</html>\n```\n\n## --seed-contents--\n\n```html\n<script>\n\nconst infixToFunction = {\n  \"+\": (x, y) => x + y,\n  \"-\": (x, y) => x - y,\n  \"*\": (x, y) => x * y,\n  \"/\": (x, y) => x / y\n};\n\nconst infixEval = (str, regex) =>\n  str.replace(regex, (_, arg1, fn, arg2) =>\n    infixToFunction[fn](parseFloat(arg1), parseFloat(arg2))\n  );\n\nconst highPrecedence = str => {\n  const regex = /([0-9.]+)([*\\/])([0-9.]+)/;\n  const str2 = infixEval(str, regex);\n  return str === str2 ? str : highPrecedence(str2);\n};\n\nconst spreadsheetFunctions = {\n  \"\": x => x\n};\n\nconst applyFn = str => {\n  const noHigh = highPrecedence(str);\n  const infix = /([0-9.]+)([+-])([0-9.]+)/;\n  const str2 = infixEval(noHigh, infix);\n  const regex = /([a-z]*)\\(([0-9., ]*)\\)(?!.*\\()/i;\n  const toNumberList = args => args.split(\",\").map(parseFloat);\n  const applyFunction = (fn, args) =>\n    spreadsheetFunctions[fn.toLowerCase()](toNumberList(args));\n  return str2.replace(\n    regex,\n    (match, fn, args) =>\n      spreadsheetFunctions.hasOwnProperty(fn.toLowerCase()) ? applyFunction(fn, args) : match\n  );\n};\n\nconst range = (start, end) =>\n  start > end ? [] : [start].concat(range(start + 1, end));\n\nconst charRange = (start, end) =>\n  range(start.charCodeAt(0), end.charCodeAt(0)).map(x =>\n    String.fromCharCode(x)\n  );\n\n--fcc-editable-region--\n\n--fcc-editable-region--\n</script>\n```\n\n# --solutions--\n\n```html\n<script>\nconst infixToFunction = {\n  \"+\": (x, y) => x + y,\n  \"-\": (x, y) => x - y,\n  \"*\": (x, y) => x * y,\n  \"/\": (x, y) => x / y\n};\n\nconst infixEval = (str, regex) =>\n  str.replace(regex, (_, arg1, fn, arg2) =>\n    infixToFunction[fn](parseFloat(arg1), parseFloat(arg2))\n  );\n\nconst highPrecedence = str => {\n  const regex = /([0-9.]+)([*\\/])([0-9.]+)/;\n  const str2 = infixEval(str, regex);\n  return str === str2 ? str : highPrecedence(str2);\n};\n\nconst spreadsheetFunctions = {\n  \"\": x => x\n};\n\nconst applyFn = str => {\n  const noHigh = highPrecedence(str);\n  const infix = /([0-9.]+)([+-])([0-9.]+)/;\n  const str2 = infixEval(noHigh, infix);\n  const regex = /([a-z]*)\\(([0-9., ]*)\\)(?!.*\\()/i;\n  const toNumberList = args => args.split(\",\").map(parseFloat);\n  const applyFunction = (fn, args) =>\n    spreadsheetFunctions[fn.toLowerCase()](toNumberList(args));\n  return str2.replace(\n    regex,\n    (match, fn, args) =>\n      spreadsheetFunctions.hasOwnProperty(fn.toLowerCase()) ? applyFunction(fn, args) : match\n  );\n};\n\nconst range = (start, end) =>\n  start > end ? [] : [start].concat(range(start + 1, end));\n\nconst charRange = (start, end) =>\n  range(start.charCodeAt(0), end.charCodeAt(0)).map(x =>\n    String.fromCharCode(x)\n  );\n\nconst evalFormula = x => {\n  const rangeRegex = /([A-J])([1-9][0-9]?):([A-J])([1-9][0-9]?)/gi;\n\n};\n</script>\n```\n"}},"pageContext":{"relativeDirectory":"javascript-algorithms-and-data-structures/learn-functional-programming-by-building-a-spreadsheet","id":"5d7925357729e183a49498aa","dashedName":"step-53"}},"staticQueryHashes":["4279786174"],"slicesMap":{}}